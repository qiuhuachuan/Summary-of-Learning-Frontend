<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Map数据结构</title>
  </head>
  <body>
    <script>
      // Map 中的key可以是任意值
      // Set 中的value可以是任意值
      let map = new Map([
        [1, 2],
        [3, 4]
      ])
      // 1 查看数据条目
      console.log(map.size) // 2

      // 2 添加数据
      map.set('h', 'h')
      console.log(map) // Map(3) {1 => 2, 3 => 4, "h" => "h"}

      // 3 修改数据
      map.set(1, 3)
      console.log(map) // Map(3) {1 => 3, 3 => 4, "h" => "h"}

      // 4 删除数据
      map.delete('h')
      console.log(map) // Map(2) {1 => 3, 3 => 4}

      // 5 查找数据，基于索引
      console.log(map.has(1)) // true

      // 6 根据key进行取值
      console.log(map.get(1)) // 3
      console.log(map.keys()) // MapIterator {1, 3}
      console.log(map.values()) // MapIterator {3, 4}
      console.log(map.entries()) // MapIterator {1 => 3, 3 => 4}

      // 7 遍历
      map.forEach((value, key) => {
        console.log(value, key)
      })
      for (const [key, value] of map) {
        console.log(key, value)
      }

      let o = function () {
        console.log('o')
      }
      map.set(o, 4)
      console.log(map) // Map(3) {1 => 3, 3 => 4, ƒ => 4}
      console.log(map.get(o)) // 4
      // Map性能略高于Object

      // 5 清空数据
      map.clear()
      console.log(map) // Map(0) {}
    </script>
  </body>
</html>
